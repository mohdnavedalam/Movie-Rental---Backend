DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202009201440165_InitialModel'
BEGIN
    CREATE TABLE [dbo].[Genres] (
        [ID] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        CONSTRAINT [PK_dbo.Genres] PRIMARY KEY ([ID])
    )
    CREATE TABLE [dbo].[Videos] (
        [ID] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [ReleaseDate] [datetime] NOT NULL,
        CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([ID])
    )
    CREATE TABLE [dbo].[VideoGenres] (
        [Video_ID] [int] NOT NULL,
        [Genre_ID] [int] NOT NULL,
        CONSTRAINT [PK_dbo.VideoGenres] PRIMARY KEY ([Video_ID], [Genre_ID])
    )
    CREATE INDEX [IX_Video_ID] ON [dbo].[VideoGenres]([Video_ID])
    CREATE INDEX [IX_Genre_ID] ON [dbo].[VideoGenres]([Genre_ID])
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_ID] FOREIGN KEY ([Video_ID]) REFERENCES [dbo].[Videos] ([ID]) ON DELETE CASCADE
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_ID] FOREIGN KEY ([Genre_ID]) REFERENCES [dbo].[Genres] ([ID]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201440165_InitialModel', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB5456225D94B1BD8BBC83A496174F38338BBE8CDA0A5B14394A254910A6C2CFA643DF491FA0A1DEA5FA464C9469A2DDA224060939CFF8F33C3F19FBFFF317EB70938798658B2504C9CD3D189434078A1CFC47AE2246A75FCBDF3EEEDD75F8DAFFC60433E15E7DEE8734829E4C479522A3A775DE93D4140E528605E1CCA70A5465E18B8D40FDDB393931FDCD35317908583BC08193F2442B100D22FF8751A0A0F2295507E13FAC065BE8E3BF3942BB9A501C8887A30716EC267068B07108AF2C562F19E7ABF80F04797CB74235B1FD53EA71C1D72C1194565E7C0570EA142848A2A34E5FCA384B98A43B19E47B840F9E336023CB7A25C426EE279757CA8B52767DA5AB7222C5879895461B027C3D337B9FB5C93FCA02038A57BD1C1571808B5D556A74E9E383F8288D17253D2F994C7FAD4810118A56C8F48BA4EB20D724C72E2A312590840FD7744A60957490C1301898A293F22F7C99233EF27D83E8648321109E77543D014DC6B2CE0D27D1C4610ABED03AC72F366970E719B74AE495892D56832DB6742BD3973C82D0AA74B0E254E6A7E9AAB3006B41662AAC0BFA74A418C619EF9907ADA926EC8D2FF0B69084CBC860EB9A19B0F20D6EA099D4F370EB9661BF08B955C838F82E1AD452215276009B9A5CF6C9DEA6788FBC47C08A58311E1E9B67C6251764B46E9D6228D1B1EB88EC3E021E40549BEBE78A4F11A142A1CB66CCEC324F60C65C66E85B89D384C39BD3C0E53B6FFE3F00BE1D01082A8032AE112352C64E9CF8F4CCBB68C1B8AE902B28762BA806D2BA60BC00FC1F48594A1C7521DEAA02EE437CDB9123ED9A54C1689D2088C062293458845943C71BEB3FCD3C1B0BCB115C33CE5EF6438766BD6D817172BB8A20CC1961B5ABB77F9DDD22760A35A6E3496E0FC52CB1C36A6215AC21C9411DFCAE94D3B2C3F34C98B946791E77E35C86B661B3C4A1CD58EB4E1CC4C063D912EF5AD547507B228625B6351E868E69AA6592D602E235A35636ED68D155D9BDBD1B68D6F681461C2A8B571F90A99673DDCF478BE7FE712643C5C4FB63430A5B6A5244C7F740DC62E8A464DAF592C15261ABAA43AAF4CFDC03AD68DDF0E7015721B10B5C35640AE38AE3FD76ECC616D9529A772F835FA20C0E3A93BC084854D9776DC94D3B8A5F24C439E04A2AB7AEDA2CE6A499D3E5BB1398C5D4371D383AEE54203D7664006852BBF677F7FB8B214B37FB83AE8BE74B8BA3834EA7A9D5163E3F5C3DF4C7A2D182853FA8B04BAE4D61ACED62BA8337B5B8B6E1409DB73837090B16A4383F65C29784F9DF2AA73A04E29933D7532CB971D6CAB8A99474AA895D5CCA85AE3BC82F44F24AC92921D7108EAFE8C8EC27232DF4A05C1481F18CD7FE553CE102BD5811B2AD80AA4CA9E140EBEF8CF8C89C53F677AE04AE9F3212384577F1431EDD2DE674FDFB362C73B483CD3D87BA2F13701DD7C5BE764BF75F67CE6FEA77D35E85DE8E367D5FF2EDCCFEF0703754722B50F7765B8FE7855626A51B3DE4F33E1C366E27C4E89CEC9ECE745417744EE624C2FE7E484FCB677342BB5F7135ED0ED21FCB007746B31349F46FD2FE753AB06DF894B04A00272E16559764AA5477DDB63BA40ED949EBF484D15863CB8F5941C5610EBBB4839D631A962AC64564B741F33E1B188F286D576311E9241B449253F73E712226C7C74776A193844DAAEDEA3646DB8B7CF019D43891EE0B4752CB5D0D9516B0DD8BF0C38C343F9BAC0D9D520BE3870DAA759F6D060C084AA7B4095F58758D3963A3D6559B1634ED33ABCEA9E5DB5716E1F22B573EE52BCBED929A3C384DE015A39F9DA3D47EB78FBD809DF7A37F7CECF1A669B2FB4E1A3B341C61633BA1E63DB1F557692B2663AAF65EC1E7342FB258537B4F60B306608C9D6150BFD7BB000AF7137CB3333B10A8B246168541C311A991B5014DB477A112BB6A29EC26D0FA44C7FD2F844798247AE8225F8337197A828516832044BDEF88944A79A5DF2D3616853E7F15D94FEFAF01226A09A4C77C077E27DC2B85FEA7DDDD24B75B0D0392CEFF5752C95EEF9D7DB92D36D280632CADD57A6DE4708228ECCE49D98D3673844B78F123EC09A7ADBE241DCCDA43F104DB78F2F195DC73490398F8A1EBF2286FD60F3F62FA6B7A5ED08210000 , N'6.4.4')
END

IF @CurrentMigration < '202009201449075_PopulateTableGenre'
BEGIN
    
    					INSERT INTO Genres (Name)
    					VALUES 
    						('Comedy'), 
    						('Action'), 
    						('Horror'), 
    						('Thriller'), 
    						('Family'), 
    						('Romance'),
    						('Drama')
    				
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201449075_PopulateTableGenre', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB5456225D94B1BD8BBC83A496174F38338BBE8CDA0A5B14394A254910A6C2CFA643DF491FA0A1DEA5FA464C9469A2DDA224060939CFF8F33C3F19FBFFF317EB70938798658B2504C9CD3D189434078A1CFC47AE2246A75FCBDF3EEEDD75F8DAFFC60433E15E7DEE8734829E4C479522A3A775DE93D4140E528605E1CCA70A5465E18B8D40FDDB393931FDCD35317908583BC08193F2442B100D22FF8751A0A0F2295507E13FAC065BE8E3BF3942BB9A501C8887A30716EC267068B07108AF2C562F19E7ABF80F04797CB74235B1FD53EA71C1D72C1194565E7C0570EA142848A2A34E5FCA384B98A43B19E47B840F9E336023CB7A25C426EE279757CA8B52767DA5AB7222C5879895461B027C3D337B9FB5C93FCA02038A57BD1C1571808B5D556A74E9E383F8288D17253D2F994C7FAD4810118A56C8F48BA4EB20D724C72E2A312590840FD7744A60957490C1301898A293F22F7C99233EF27D83E8648321109E77543D014DC6B2CE0D27D1C4610ABED03AC72F366970E719B74AE495892D56832DB6742BD3973C82D0AA74B0E254E6A7E9AAB3006B41662AAC0BFA74A418C619EF9907ADA926EC8D2FF0B69084CBC860EB9A19B0F20D6EA099D4F370EB9661BF08B955C838F82E1AD452215276009B9A5CF6C9DEA6788FBC47C08A58311E1E9B67C6251764B46E9D6228D1B1EB88EC3E021E40549BEBE78A4F11A142A1CB66CCEC324F60C65C66E85B89D384C39BD3C0E53B6FFE3F00BE1D01082A8032AE112352C64E9CF8F4CCBB68C1B8AE902B28762BA806D2BA60BC00FC1F48594A1C7521DEAA02EE437CDB9123ED9A54C1689D2088C062293458845943C71BEB3FCD3C1B0BCB115C33CE5EF6438766BD6D817172BB8A20CC1961B5ABB77F9DDD22760A35A6E3496E0FC52CB1C36A6215AC21C9411DFCAE94D3B2C3F34C98B946791E77E35C86B661B3C4A1CD58EB4E1CC4C063D912EF5AD547507B228625B6351E868E69AA6592D602E235A35636ED68D155D9BDBD1B68D6F681461C2A8B571F90A99673DDCF478BE7FE712643C5C4FB63430A5B6A5244C7F740DC62E8A464DAF592C15261ABAA43AAF4CFDC03AD68DDF0E7015721B10B5C35640AE38AE3FD76ECC616D9529A772F835FA20C0E3A93BC084854D9776DC94D3B8A5F24C439E04A2AB7AEDA2CE6A499D3E5BB1398C5D4371D383AEE54203D7664006852BBF677F7FB8B214B37FB83AE8BE74B8BA3834EA7A9D5163E3F5C3DF4C7A2D182853FA8B04BAE4D61ACED62BA8337B5B8B6E1409DB73837090B16A4383F65C29784F9DF2AA73A04E29933D7532CB971D6CAB8A99474AA895D5CCA85AE3BC82F44F24AC92921D7108EAFE8C8EC27232DF4A05C1481F18CD7FE553CE102BD5811B2AD80AA4CA9E140EBEF8CF8C89C53F677AE04AE9F3212384577F1431EDD2DE674FDFB362C73B483CD3D87BA2F13701DD7C5BE764BF75F67CE6FEA77D35E85DE8E367D5FF2EDCCFEF0703754722B50F7765B8FE7855626A51B3DE4F33E1C366E27C4E89CEC9ECE745417744EE624C2FE7E484FCB677342BB5F7135ED0ED21FCB007746B31349F46FD2FE753AB06DF894B04A00272E16559764AA5477DDB63BA40ED949EBF484D15863CB8F5941C5610EBBB4839D631A962AC64564B741F33E1B188F286D576311E9241B449253F73E712226C7C74776A193844DAAEDEA3646DB8B7CF019D43891EE0B4752CB5D0D9516B0DD8BF0C38C343F9BAC0D9D520BE3870DAA759F6D060C084AA7B4095F58758D3963A3D6559B1634ED33ABCEA9E5DB5716E1F22B573EE52BCBED929A3C384DE015A39F9DA3D47EB78FBD809DF7A37F7CECF1A669B2FB4E1A3B341C61633BA1E63DB1F557692B2663AAF65EC1E7342FB258537B4F60B306608C9D6150BFD7BB000AF7137CB3333B10A8B246168541C311A991B5014DB477A112BB6A29EC26D0FA44C7FD2F844798247AE8225F8337197A828516832044BDEF88944A79A5DF2D3616853E7F15D94FEFAF01226A09A4C77C077E27DC2B85FEA7DDDD24B75B0D0392CEFF5752C95EEF9D7DB92D36D280632CADD57A6DE4708228ECCE49D98D3673844B78F123EC09A7ADBE241DCCDA43F104DB78F2F195DC73490398F8A1EBF2286FD60F3F62FA6B7A5ED08210000 , N'6.4.4')
END

IF @CurrentMigration < '202009201831524_ModifyRelationshipTablesVideoGenre'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Videos_Video_ID]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_ID]
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Genres_Genre_ID]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_ID]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_ID' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Video_ID] ON [dbo].[VideoGenres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_ID' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Genre_ID] ON [dbo].[VideoGenres]
    ALTER TABLE [dbo].[Videos] ADD [GenreID] [int] NOT NULL DEFAULT 0
    CREATE INDEX [IX_GenreID] ON [dbo].[Videos]([GenreID])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_GenreID] FOREIGN KEY ([GenreID]) REFERENCES [dbo].[Genres] ([ID]) ON DELETE CASCADE
    DROP TABLE [dbo].[VideoGenres]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201831524_ModifyRelationshipTablesVideoGenre', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB5456225D94B6BD8BBC83A4961741D075112F466D0D2D8214A512A4919368A3E590F7DA4BE4247BF9648C9768C64B7458B00814472FEBF19CEC87FFDF1E7E0C33AE4640552B1480C9DF3DE994340F851C0C472E8247A71FABDF3E1FDD75F0DAE83704D9ECA73EFD2734829D4D079D63AEEBBAEF29F21A4AA17325F462A5AE89E1F852E0D22F7E2ECEC07F7FCDC0564E1202F4206F789D02C84EC055F4791F021D609E5932800AE8A75DCF132AEE49686A062EAC3D099442B06B37B109AF2D96CF691FABF80087A57F36C235FEFD59E338E0EB9E48CA2B21EF08543A81091A61A4DE93F2AF0B48CC4D28B7181F2874D0C786E41B982C2C4FEF6F8A1D69E5DA4D6BA5BC292959F281D852F6478FEAE709F6B921F1504A7722F3AF81A03A137A9D5999387CE8F20245A6E4AEA8FB84C4F1D19805EC6F68464EB24DF20A7A4203EA99085004CFF4EC828E13A913014906849F909B94BE69CF93FC1E6214292A14838AF1B82A6E05E630197EE641483D49B7B5814E68DAF1CE236E95C93B022ABD1E4B68F857E77E1905B144EE71C2A9CD4FCE4E948025A0B926A08EEA8D62031CCE300324F5BD20D59E9FF521A0213D3D02113BAFE0462A99FD1F974ED901BB686A05C293478140CB31689B44CC012724B576C99E967887B620144CAC188F06C5B3DB338CF925EB6352BE07023A3F03EE22545BE3C7BA072091AD58DEC3D2F4AA46F683270B770DB09C28CD1EB833063FB3F08BF10080D210839A00AAE50C35256FAFCC052D99671BB796590DBEFA143B3A200FD71495102BF2D29CA843924292E958A7C962950CF8A4278D3926B11901D9AE481ACF4C76022B0598C5046B943E73BCB33EDFCAA74DFF22B3CD1E477EE9829301557186D0DE4D2CF6FBD11553E0DEC90A02F82E60A660DC814B694639BA0300F99D0768A31E1B318D3B9536B83E4C0BC4C55AA989B3B571063DD40DDBA7D7F88D40ABCB6E84A82E1A57D4E19B835F4D89516693452802C34A815CAA218A62760AD5B4A30364C451556459E9BD0492578A0EBD6E10DB30579133A16F29AE4E5056591174836C86B661B3CCAA4AD9D68C9693302BB13AB5276ABA715C3DDA954E3503ACACC88A6492D85A38AE6B66D76F3BEB9ECAFDD8E067B30A1718CD5BDD670172BC4CBBBEDD1A9F7F21E33CC79B8BE6A69352B6D2B497857D12518BB281A35BD615269BC15E89CA6F57B1484D6B16EEC7600AB94DB80A71DB5126EE5F1F4B9962DC735C02DF5A0E07F833E08D352925DDD262C6CBA6C36A29CCA96366114F12414DD25AD9B3ABFF8EBF4F98ACD61E01A8A5BB5CB72A155E99B0139285C459ABD7DB8F2F2F2F27075D07DE970757168346175468D8DC3F95577599D57E705F7C630B20AA479A4925E154AA3200E8AE2B4FFB38455ADF2230E4107AD101358A9BC8DD210F6D2033DEF573EE20CEDDD1E9850C116A0743E5A3838F65F189F2DFE399F105CA5027EC87784CF3E1CB1D4A57BC79F178E17F57948ACA8F49FA9FC26A4EB6FEB9CEC99E785E3EE7FDA5707CD87013EEB57980F33C3ADCE768C9DF67AE8FC96D1F4C9F8E759417642A61213B44FCEC8EF7B44BFEE3057B4AC9F75DE32FAD563A6C7A346B6AEFEE86DA6B47FC96066F7C0070C5BDDB3567E27611ECDD3B8E620EE183B5AE7B0EE31AC8D73FB48F486235AC3FA5AF3BC7728B327B9B719C3EC6E021153FB2904B1AAD872CB22FD614480DFC04A75662C1651895943A3F288510527A02996507A29355B505FE3B60F4A659FF79E284FF0C8753887602CA6898E138D264338E78DCF8529F477C9CF66CDA6CE83699C7D457B0D13504D96DE0253F131613CA8F4BE6929C51D2CD29C2AEEBB34963ABDF7969B8AD36D240E6454B8AF2A050F10C61C99A9A9F0E80A8ED1ED51C12758527F533685DD4CF607A2E9F6C115A34B494355F0D8D2E32B623808D7EFFF06961B8E1F111C0000 , N'6.4.4')
END

IF @CurrentMigration < '202009201846181_AddColumnClassificationToTableVideos'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Classification] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201846181_AddColumnClassificationToTableVideos', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB54562C5C9A50DEC5D649D6461749D045176D19B414B63872845A92215D828FA643DF491FA0A1D4A942C9196EDB8C96E8B1601029BE4FC7F339CA1FFFCFD8FC1DB65CCC91364922562E8F57B271E01112611138BA197ABF9F1F7DEDB375F7F35B88AE225F9549D3BD3E79052C8A1F7A8547AEEFB327C8498CA5ECCC22C91C95CF5C224F66994F8A727273FF8FDBE0FC8C2435E840CEE73A1580CC517FC3A4A4408A9CA299F24117069D6712728B8921B1A834C6908436F923C3198DE8350944FA7D37734FC1944D4BB9C151BE57AAFF1B9E0E8910BCE282A1B009F7B840A9128AAD094F38F120295256211A4B840F9C32A053C37A75C8231F17C7D7C5F6B4F4EB5B5FE9AB06215E65225F13319F6CF8CFB7C9BFCA02078B57BD1C1571808B5D256174E1E7AEF416468B92DE97CC4337DEAC000F40AB647A45827E506392686F8A846160250FF1D9151CE559EC15040AE32CA8FC85D3EE32CFC11560F09920C45CE79D3103405F75A0BB874972529646A750F7363DEF8D2237E9BCEB7096BB2064D69FB58A8B3538FDCA0703AE350E3A4E1A7402519A0B5905105D11D550A320CF33882C2D38E744B96FE5F494360621A7A6442971F402CD4233A9F2E3D72CD9610552B46838F8261D62291CA727084DCD027B628F4B3C47D621124D2C388F0625B3EB2B4CC925EB1353570B8CE92F83EE11545B93C7DA0D90214AA9BB87B419267A1A5C9C05FC36D2B080B462F0FC282EDFF20FC4220B48420E4804AB8440D2B59FAF303D3B21DE3B6F31A712A259BB3D05445A3BA86B1BDF54CCE059877FB7EDF7C33E97458BA5529B529DDAA54DC2FDDF2B8916CB687C6F29AD3C5FA127CE92C6CCB7BE97444104690F11582B619B2767C2610CF2033F6078C6303E4914F94E7F8B5EF44B375FA7DC2A3FAECE9F6B3773ACAE8ECFAFC991BA03214CDC50B29939015CE699643838DB6B82B11912D4059A781A9A81374214BD169088BA1F79DA3FE667E759D5FF333406DF3EB7B76EDBB159798E60AC84558B63B232A431AB919839E88DA2B582E21D3F58A72EC0F25469C09E5D65626429622703AB5B648F62CC85AA59AB9BD730929221475EBF6FD3E52EBDAE28AAE25585EDAE59481DF408F7BC5228D428A1AA08DDC3469A74FC0526DC87AEC944DE24B53E06DE8680901A8A675D85AAC6B501B3A0EF2DAE45567E2901B245BE40DB32D1E554D6D9CD85072ED086C4FAC5AD9B59E4E0CB7A7528343E5283B23DA266DA8EB7534D7F3925F0E4CD560E5774C5683094D53AC908D49CBAC90A01CB346C7C1F3878BB8E4E18772C38C516B5B4BC226852EC0DA45D1A8E935CBA4C27680CEA8BE824651EC1CEBC66E07B02AB92D78BA51ABE0561DD79F1BD972D8E4B3A11E18FED7E883589792A267B361E1D2154331E534DBD01F8E129EC7A2BBA47553971D5F93BE5C71390C7C4B71A776392E742A7D3B207B85CBA4D9EB87AB2C2FCF0F5707DD970E57178756F7DD64D4DAD89F9FDD443659DA7BFB73AD6FC826BBCE6BF395C1E9945DFB482DBD2EBF56991D9892B7FB95CBA981E5118FA0839E106958FF82955410F7F4815EF00B1F7186F6AE0F4CA8607390AA6C8DBDD393FEA9F50AF6CF7991F2A58CF83ECF529F7DD666DAA53BA7E967CE94CDF15A3CD12C7CA4D937315D7EDBE4E48ED0CF7C3DF94FFB6AAFE786083FAB977B6E28ECFF7BCF0B050BA7F31EE324B01C7ABF1634E764FCD3D4901D91DB0C53FD9C9C90DF7688EE02CF61C3A669A93FEB3C68F5D3874CB7078D945DFDDBEB4C91FF92C1D1EDD1F71806BB67C1F276C38C9CE9B89620EE188B36CE89DD63E226CE9B47B6571C215BD6379AFB9D43A33B69BECE98E8F6258898C66F748855C9166B16FA173B01610B2BF599B1982715662D8DAA2356159C80A2588CE945A6D89C860AB743C00AABDF9DCDCBD9553C83682C6E7395E60A4D8678C65BEFD81AFADBE417B3705BE7C16D5A3CC2BE8409A826D3F7C9AD7897B3C60BE1F58652DCC142E794B939752C95BE4117AB9AD34D22F66464DC5797820788538ECCE4AD08E8131CA2DB47091F6041C355D55E7633D91D88B6DB07978C2E321A4BC3634D8F5F11C351BC7CF3178E674219AA1E0000 , N'6.4.4')
END

IF @CurrentMigration < '202009201929348_EnhanceTablesVideosGenres'
BEGIN
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Genres')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Genres] ALTER COLUMN [Name] [nvarchar](255) NOT NULL
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Name] [nvarchar](255) NOT NULL
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Classification';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Classification] [tinyint] NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201929348_EnhanceTablesVideosGenres', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103A16592B76B0401BD8BB489C6461749D045112F466D0D2D8214A512A4905368A3E590F7DA4BE424712254B94E4D86EB2DD028B00814D72FEBF19CED07FFFF9D7F0E32AE4E419A462911839FDDEB14340F851C0C472E4247AF1EE47E7E387EFBF1B5E06E18A3C16E74ED2734829D4C879D23A3E755DE53F4148552F64BE8C54B4D03D3F0A5D1A44EEE0F8F827B7DF77015938C88B90E15D22340B21FB825FC791F021D609E5D32800AECC3AEE781957724D435031F561E44CA36706B33B109AF2D96C764EFD5F4104BD8B79B691AFF72A9F338E0E39E38CA2B21EF08543A81091A61A4D397D50E0691989A517E302E5F7EB18F0DC827205C6C4D3CDF15DAD3D1EA4D6BA1BC282959F281D857B32EC9F18F7B936F94141704AF7A2832F31107A9D5A9D3979E47C0221D1725BD2E998CBF4D48101E8656C8F48B64EF20DF28E18E2A3125908C0F4EF888C13AE130923018996941F91DB64CE99FF33ACEF2324198984F3AA21680AEED51670E956463148BDBE8385316F72E110B74EE7DA8425598526B77D22F4C9C021D7289CCE399438A9F8C9D39104B41624D510DC52AD4162982701649E6E48B764A5FF0B69084C4C43874CE9EA3388A57E1A3983F7EF1D72C55610142B468307C1306B9148CB045A34B4A45ED367B6CC14B6E43FB20022E5608878B6AD9E589CA74D2FDB9A197C5CC928BC8B7841912FCFEEA95C8246FDA3E69E1725D2B73419BA1BFC6D4565C6E8F55199B1FD86CAAF05959654C420500517A872213CFD7CCFC2FD798D39558A2D986FEAA6B125C5B5BDB527E70CDD2F0763D70434F97558FE1539D6967F456EEE967F4958C93EDB431375C5E972734DBE765AD6E5BD767E222A03907C8D28CE953C5F23C0EAE19942380769CCF718C70EC9218F9427F8B5DF0866EDF4A78807E5D9C1F6B3B76990D1D7E5F993667CF2485417CF948A7C96F9A65A1E0D34EAE22E4540B6E0649305A6C24ED1832C469F212A46CE0F0DF5DBF995757FC3CFE0B4CEAFEFD8B5F0465C60966B20677EDE0F8DA9F269D04C18F444505FC1F20932AD5F946303A930E04CE866AD65C26731E2A6536B8B64C7029DAA5432B7772E204680A26EDDBEDF456A595A9AA24B0996975E72CAD0ADA0A779E5228D468A12A095D43459979E80956E497A6CA54DDE2B53F06DE8A4123CD055EBB0D5D894A03A741AC8AB93179D4A83DC20D922AF986DF1284A6AE5444BC5B523B03DB14A65377A3662B83D952A1C0A47D9195137A9A5AC97D1DC0C546E3E51159397DB317A0DA7348EB140564631B342BC7C0E1BBFF3F69F3EC29C87EBAB9621A4D4B694844D0B5D82B58BA251D32B2695C66E80CE697A038D83B071AC1BBB1DC02AE4D6E0D98C5A01B7E278FAB9922D878D462DF5C0F0BF421F846929C97A381B164DBA6C6AA69CCA967E711CF12414DD25AD9B3AEF00ABF4F94A93C3D0B5146FD4AE860B1B95BE1E909DC265D2ECEDC3959797FDC3D541F75F87AB8B43ADF9AE32AA6DECCECFEE21AB2CEDBDDDB9963764955DE7B5F9C6E06C945DFB4829BD2CBF56991D9A92F7F23358A306E6471C820E7A46A461FDF3D64A43D84B0FF4BCDFF89833B47773604A055B80D27967EC0C8EFB03EB99ECEB79B272950AF82EEF565F7CF666A94B5F9CAEF71C29ABE3B678A6D27FA2B239706F65BAE7CBCA37BF75326D798508F0B37EBD57081C01D7993FFEDDCB43C6A2D1954F704A588D9CDF339A5332F96566C88EC88DC432704A8EC91F0782E9B041D4B4DB5F7456B47AED4326DF83C6CDAEDEEE6D26CCFFC950D9ECDF771814BBE7C4FCE6C3AC9CA771CD41DC3132B5CE90DD23641BE7F671EE0DC7CB9AF595C6FFC581B23985BECD08D9EC591031951FF810AB8A2D372CD29FFB04F835AC94672662111598B5342A8E5855700A9A6241A66752B305F5356EFB8055367DA336AF6A97E11C8289B849749C683419C239AFBD79A7D0DF263F9B93EB3A0F6FE2EC7DF6354C4035597AA7DC88F384555E0FAF5A4A71078B34A7CC4D9AC652A737EA725D72BA8EC48E8C8CFBCA52700F61CC9199BA111E7D8643747B50F01996D45F17AD67379397035177FBF082D1A5A4A1323C36F4F815311C84AB0FFF00ABBDF12CE71E0000 , N'6.4.4')
END

IF @CurrentMigration < '202009201942055_dropConstraint'
BEGIN
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009201942055_dropConstraint', N'Movie_Rental___Backend.DbMovieRental.MovieRentalMigrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103A16592B76B0401BD8BB489C6461749D045112F466D0D2D8214A512A4905368A3E590F7DA4BE424712254B94E4D86EB2DD028B00814D72FEBF19CED07FFFF9D7F0E32AE4E419A462911839FDDEB14340F851C0C472E4247AF1EE47E7E387EFBF1B5E06E18A3C16E74ED2734829D4C879D23A3E755DE53F4148552F64BE8C54B4D03D3F0A5D1A44EEE0F8F827B7DF77015938C88B90E15D22340B21FB825FC791F021D609E5D32800AECC3AEE781957724D435031F561E44CA36706B33B109AF2D96C764EFD5F4104BD8B79B691AFF72A9F338E0E39E38CA2B21EF08543A81091A61A4D397D50E0691989A517E302E5F7EB18F0DC827205C6C4D3CDF15DAD3D1EA4D6BA1BC282959F281D857B32EC9F18F7B936F94141704AF7A2832F31107A9D5A9D3979E47C0221D1725BD2E998CBF4D48101E8656C8F48B64EF20DF28E18E2A3125908C0F4EF888C13AE130923018996941F91DB64CE99FF33ACEF2324198984F3AA21680AEED51670E956463148BDBE8385316F72E110B74EE7DA8425598526B77D22F4C9C021D7289CCE399438A9F8C9D39104B41624D510DC52AD4162982701649E6E48B764A5FF0B69084C4C43874CE9EA3388A57E1A3983F7EF1D72C55610142B468307C1306B9148CB045A34B4A45ED367B6CC14B6E43FB20022E5608878B6AD9E589CA74D2FDB9A197C5CC928BC8B7841912FCFEEA95C8246FDA3E69E1725D2B73419BA1BFC6D4565C6E8F55199B1FD86CAAF05959654C420500517A872213CFD7CCFC2FD798D39558A2D986FEAA6B125C5B5BDB527E70CDD2F0763D70434F97558FE1539D6967F456EEE967F4958C93EDB431375C5E972734DBE765AD6E5BD767E222A03907C8D28CE953C5F23C0EAE19942380769CCF718C70EC9218F9427F8B5DF0866EDF4A78807E5D9C1F6B3B76990D1D7E5F993667CF2485417CF948A7C96F9A65A1E0D34EAE22E4540B6E0649305A6C24ED1832C469F212A46CE0F0DF5DBF995757FC3CFE0B4CEAFEFD8B5F0465C60966B20677EDE0F8DA9F269D04C18F444505FC1F20932AD5F946303A930E04CE866AD65C26731E2A6536B8B64C7029DAA5432B7772E204680A26EDDBEDF456A595A9AA24B0996975E72CAD0ADA0A779E5228D468A12A095D43459979E80956E497A6CA54DDE2B53F06DE8A4123CD055EBB0D5D894A03A741AC8AB93179D4A83DC20D922AF986DF1284A6AE5444BC5B523B03DB14A65377A3662B83D952A1C0A47D9195137A9A5AC97D1DC0C546E3E51159397DB317A0DA7348EB140564631B342BC7C0E1BBFF3F69F3EC29C87EBAB9621A4D4B694844D0B5D82B58BA251D32B2695C66E80CE697A038D83B071AC1BBB1DC02AE4D6E0D98C5A01B7E278FAB9922D878D462DF5C0F0BF421F846929C97A381B164DBA6C6AA69CCA967E711CF12414DD25AD9B3AEF00ABF4F94A93C3D0B5146FD4AE860B1B95BE1E909DC265D2ECEDC3959797FDC3D541F75F87AB8B43ADF9AE32AA6DECCECFEE21AB2CEDBDDDB9963764955DE7B5F9C6E06C945DFB4829BD2CBF56991D9A92F7F23358A306E6471C820E7A46A461FDF3D64A43D84B0FF4BCDFF89833B47773604A055B80D27967EC0C8EFB03EB99ECEB79B272950AF82EEF565F7CF666A94B5F9CAEF71C29ABE3B678A6D27FA2B239706F65BAE7CBCA37BF75326D798508F0B37EBD57081C01D7993FFEDDCB43C6A2D1954F704A588D9CDF339A5332F96566C88EC88DC432704A8EC91F0782E9B041D4B4DB5F7456B47AED4326DF83C6CDAEDEEE6D26CCFFC950D9ECDF771814BBE7C4FCE6C3AC9CA771CD41DC3132B5CE90DD23641BE7F671EE0DC7CB9AF595C6FFC581B23985BECD08D9EC591031951FF810AB8A2D372CD29FFB04F835AC94672662111598B5342A8E5855700A9A6241A66752B305F5356EFB8055367DA336AF6A97E11C8289B849749C683419C239AFBD79A7D0DF263F9B93EB3A0F6FE2EC7DF6354C4035597AA7DC88F384555E0FAF5A4A71078B34A7CC4D9AC652A737EA725D72BA8EC48E8C8CFBCA52700F61CC9199BA111E7D8643747B50F01996D45F17AD67379397035177FBF082D1A5A4A1323C36F4F815311C84AB0FFF00ABBDF12CE71E0000 , N'6.4.4')
END

